predict(SETAR, plot=TRUE, n.ahead=12)
library(knitr)
opts_knit$set(root.dir = "C:/Teaching/Undergrad/data ECO374")
if (!require("statip")) install.packages("statip")
library(statip)
n <- 500
y <- seq(0,0,length.out=n)
s1 <- seq(0,0,length.out=n+1)
s2 <- seq(0,0,length.out=n+1)
e <- rnorm(n, mean = 0, sd = 1)
s1[1] <- 0 # initialize
s2[1] <- 1
for (i in 1:500) {
if (s1[i]==1)  {
y[i] <- 1 + e[i]            # model in state 1
s1[i+1] <- rbern(1, 0.7)
if (s1[i+1]==0) {
s2[i+1] <- 1
} else {
s2[i+1] <- 0
}
} else {
y[i] <- -1 + e[i]
s2[i+1] <- rbern(1, 0.9)
if (s2[i+1]==0) {
s1[i+1] <- 1
} else {
s1[i+1] <- 0
}
}
}
plot(y, type="l")
s1
hist(y, prob = TRUE, breaks=50, xlim=c(-3,3), col="lightgrey", main="Histogram of MC draws", cex.main=0.9)
library(stats)
library(forecast)
library(aTSA)
# load data (Total Hours Worked in Spain and U.S.)
data <- read.csv(file="hours_worked.csv", header=TRUE, sep=",")
#------------------------------------------------------------
# Data for Spain (non-stationary AR(p))
tsdata <- ts(data$Spain,start=c(1970,1),frequency=1)
plot.ts(tsdata, ylab ="Total Hours Worked in Spain")
# test for unit root
adf.test(data$Spain)
# difference the data
D.data.Spain <- diff(data$Spain, lag = 1, differences = 1)
plot(D.data.Spain, type="l")
# test for unit root
adf.test(D.data.Spain)
# ACF, PACF
ACF <- acf(D.data.Spain, lag.max = 10 , plot = FALSE, demean = TRUE)
plot(ACF[1:10], main="ACF")
PACF <- pacf(D.data.Spain, lag.max = 10, plot = FALSE, demean = TRUE, main="ACF")
plot(PACF[1:10], main="PACF")
# model estimation and forecast (original data)
mSpain <- arima(data$Spain, order = c(2,1,2), include.mean=TRUE)
fcast <- forecast(mSpain,h=5)
fcast <- forecast(mSpain, head.h=5)
fcast <- forecast(mSpain)
plot(fcast)
fcast <- forecast(mSpain, n.ahead=5)
plot(fcast)
mSpain
fcast <- forecast(mSpain, n.ahead=5)
plot(fcast)
help(forecast)
fcast <- forecast(mSpain, lead=5)
help("forecast")
help("forecast")
fcast <- forecast.ets(mSpain, h=5)
fcast <- forecast.ets(mSpain,h=5)
mSpain <- arima(data$Spain, order = c(2,1,2), include.mean=TRUE)
fcast <- forecast.ets(mSpain,h=5)
helpplot(fcast)
fcast <- forecast::forecast.ets(mSpain,h=5)
fcast <- forecast::forecast(mSpain,h=5)
helpplot(fcast)
plot(fcast)
library(forecast)
library(xts)
library(anytime)
library(vars)
library(aTSA)
library(xts)
library(anytime)
library(urca)
library(tsDyn)
help("ca.jo")
setwd("⁨iCloud Drive⁩ ▸ ⁨Documents⁩ ▸ ⁨Academics⁩ ▸ ⁨EconForecasting⁩ ▸ ⁨AnnEconForecast⁩")
setwd("/Users/tianyudu/Documents/Academics/EconForecasting/AnnEconForecast")
data <- read.csv("./data/sunspots.csv", header=TRUE, sep=",")
tsdata <- ts(data$Sunspot.Numbers.)
tsdata
length(tsdata)
tsdata <- ts(data$Sunspot.Numbers., frequency=12)
tsdata
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
tsdata
plot(tsdata)
plot(tsdata)
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=12)
plot(tsdata)
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
plot(tsdata)
plot.ts(tsdata, ylab="Sunspot")
ACF <- acf(data$Sunspot.Numbers., lag.max=150, frequency=1)
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF)
plot(ACF[1:20], main="ACF")
plot(PACF[1:20], main="PACF")
PACF <- pacf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
par(mfrow=c(1, 2))
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
# Basic look at the structure of time series.
par(mfrow=c(2, 1))
data <- read.csv("./data/sunspots.csv", header=TRUE, sep=",")
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
# Basic look at the structure of time series.
par(mfrow=c(2, 1))
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(data$Sunspot.Numbers., order=c())
# Basic look at the structure of time series.
par(mfrow=c(2, 1))
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
par(mfrow=c(2, 1))
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF", pch=1)
PACF <- pacf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF", pch=2)
# Basic look at the structure of time series.
par(mfrow=c(1, 2))
ACF <- acf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(data$Sunspot.Numbers., lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
data <- diff(data)
data <- diff(data$Sunspot.Numbers.)
data
plot(data)
data <- read.csv("./data/sunspots.csv", header=TRUE, sep=",")
par(mfrow=c(1, 2))
ACF <- acf(diff(data$Sunspot.Numbers.), lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(diff(data$Sunspot.Numbers.), lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
data <- read.csv("./data/sunspots.csv", header=TRUE, sep=",")
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
data <- read.csv("./data/sunspots.csv", header=TRUE, sep=",")
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
data <- read.csv("./data/sunspots.csv", header=TRUE, sep=",")
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
data <- read.csv("./data/sunspots.csv", header=TRUE, sep=",")
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
data <- read.csv("./data/sunspots.csv", header=TRUE, sep=",")
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
tsdata <- ts(diff(data$Sunspot.Numbers.), start=c(1700), frequency=1)
# Basic look at the structure of time series.
ACF <- acf(diff(data$Sunspot.Numbers.), lag.max=150, plot=FALSE, demean=TRUE)
plot.ts(tsdata, ylab="Sunspot Numbers")
ACF <- acf(diff(data$Sunspot.Numbers.), lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(diff(data$Sunspot.Numbers.), lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ACF <- acf(diff(data$Sunspot.Numbers.), lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(diff(data$Sunspot.Numbers.), lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(data$Sunspot.Numbers., order=c(8, 1, 7), include.mean=TRUE)
ARIMA <- arima(diff(data$Sunspot.Numbers)., order=c(8, 1, 7), include.mean=TRUE)
ARIMA <- arima(diff(data$Sunspot.Numbers.), order=c(8, 1, 7), include.mean=TRUE)
# Basic look at the structure of time series.
ACF <- acf(tsdata, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
ARIMA <- arima(tsdata, order=c(8, 1, 7), include.mean=TRUE)
PACF <- pacf(tsdata, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(tsdata, order=c(8, 1, 7), include.mean=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=10)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylael="forecast")
ARIMAfct = predict(ARIMA, n.ahead=30)
ARIMAfct = predict(ARIMA, n.ahead=30)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylael="forecast")
data <- na.omit(read.csv("./data/sunspots.csv", header=TRUE, sep=","))
GARCH <- garchFit(~arma(1,0)+garch(1,1), data=xtsdata$Close, trace=TRUE)
GARCH <- garchFit(~arma(1,0)+garch(1,1), data=tsdata, trace=TRUE)
library(aTSA)
GARCH <- garchFit(~arma(1,0)+garch(1,1), data=tsdata, trace=TRUE)
library(fGarch)
GARCH <- garchFit(~arma(1,0)+garch(1,1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10, nx=365)
f <- predict(GARCH, plot=TRUE, n.ahead=10, nx=100)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
f <- predict(GARCH, plot=TRUE, n.ahead=10, nx=length(tsdata))
f <- predict(GARCH, plot=TRUE, n.ahead=10, nx=100)
GARCH <- garchFit(~arima(8, 1, 7)+garch(1,1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10, nx=100)
GARCH <- garchFit(~arma(8, 7)+garch(1,1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10, nx=100)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
GARCH <- garchFit(~arma(8, 7)+garch(1,1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
GARCH <- garchFit(~arma(3, 2)+garch(1, 1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
GARCH <- garchFit(~arma(3, 2)+garch(1, 1), data=na.omit(tsdata), trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
GARCH <- garchFit(~arma(1, 2)+garch(1, 1), data=na.omit(tsdata), trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
GARCH <- garchFit(~arma(3, 2)+garch(1, 1), data=tsdata, trace=TRUE)
ACF <- acf(tsdata, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(tsdata, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
GARCH <- garchFit(~arma(8, 1)+garch(1, 1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
f <- predict(GARCH, plot=TRUE, n.ahead=5)
GARCH <- garchFit(~arma(8, 1)+garch(1, 1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=5)
f <- predict(GARCH, plot=TRUE)
f <- predict(GARCH, plot=TRUE)
tsda
tsdata
f <- predict(GARCH, plot=TRUE, n.ahead=10)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylael="forecast")
GARCH <- garchFit(~arma(8, 1)+garch(1, 1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
# May. 1, 2019
# Basic ARIMA model for arbitrary dataset.
# Example on sunspot dataset.
library(forecast)
library(aTSA)
library(fGarch)
data <- na.omit(read.csv("./data/sunspots.csv", header=TRUE, sep=","))
tsdata <- ts(diff(data$Sunspot.Numbers.), start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
# Basic look at the structure of time series.
ACF <- acf(tsdata, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(tsdata, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(tsdata, order=c(8, 1, 7), include.mean=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylael="forecast")
GARCH <- garchFit(~arma(1, 1)+garch(1, 1), data=tsdata, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
ts_train = tsdata[:-10]
ts_train = tsdata[0:-10]
ts_train = tsdata[1:-10]
ts_train = tsdata[1:]
ts_train = tsdata[1:278]
ts_train = ts(tsdata[1:278], start=c(1700), frequency=1)
plot(ts_train)
library(ggplot2)
library(ggfortify)
ACF <- acf(tsdata, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(tsdata, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(tsdata, order=c(8, 1, 7), include.mean=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylael="forecast")
ts_train = ts(tsdata[1:258], start=c(1700), frequency=1)
# Basic look at the structure of time series.
ACF <- acf(tsdata_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(tsdata_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(tsdata_train, order=c(8, 0, 1), include.mean=TRUE)
# Basic look at the structure of time series.
ACF <- acf(ts_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(ts_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(tsdata_train, order=c(8, 0, 1), include.mean=TRUE)
ARIMA <- arima(ts_train, order=c(8, 0, 1), include.mean=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylael="forecast")
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylael="forecast")
plot(ARIMAfct$pred, main="ARIMA Forecast", ylab="forecast")
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylab="forecast")
ts_train+ARIMAfct$pred
c(ts_train,ARIMAfct$pred)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylab="forecast")
autoplot(ts(cbind(c(ts_train,ARIMAfct$pred), tsdata)  , start=c(1700), frequency=1),
facets = FALSE)
int(16.6)
ts_train = ts(tsdata[1:TRAIN_SIZ], start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
ts_train = ts(tsdata[1:TRAIN_SIZE], start=c(1700), frequency=1)
TEST_SIZE <- 30
TRAIN_SIZE <- length(tsdata) - TEST_SIZE
ts_train <- ts(tsdata[1:TRAIN_SIZE], start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
# May. 1, 2019
# Basic ARIMA model for arbitrary dataset.
# Example on sunspot dataset.
library(forecast)
library(aTSA)
library(fGarch)
library(ggfortify)
data <- na.omit(read.csv("./data/sunspots.csv", header=TRUE, sep=","))
tsdata <- ts(diff(data$Sunspot.Numbers.), start=c(1700), frequency=1)
# ==== Setup Hyperparameters ====
TEST_SIZE <- 30
TRAIN_SIZE <- length(tsdata) - TEST_SIZE
ts_train <- ts(tsdata[1:TRAIN_SIZE], start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
# Basic look at the structure of time series.
ACF <- acf(ts_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(ts_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(ts_train, order=c(8, 0, 1), include.mean=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylab="forecast")
autoplot(ts(cbind(c(ts_train,ARIMAfct$pred), tsdata)  , start=c(1700), frequency=1),
facets = FALSE)
help("autoplot")
data <- na.omit(read.csv("./data/sunspots.csv", header=TRUE, sep=","))
tsdata <- ts(data$Sunspot.Numbers., start=c(1700), frequency=1)
# ==== Setup Hyperparameters ====
TEST_SIZE <- 30
TRAIN_SIZE <- length(tsdata) - TEST_SIZE
ts_train <- ts(tsdata[1:TRAIN_SIZE], start=c(1700), frequency=1)
plot.ts(tsdata, ylab="Sunspot Numbers")
# Basic look at the structure of time series.
ACF <- acf(ts_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(ts_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(ts_train, order=c(8, 1, 1), include.mean=TRUE)
ARIMAfct = predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylab="forecast")
autoplot(ts(cbind(c(ts_train,ARIMAfct$pred), tsdata)  , start=c(1700), frequency=1), facets=FALSE)
autoplot(ts(cbind(c(ts_train,ARIMAfct$pred))  , start=c(1700), frequency=1), facets=FALSE)
, tsdata
d
autoplot(ts(cbind(c(ts_train,ARIMAfct$pred), tsdata)  , start=c(1700), frequency=1), facets=FALSE)
autoplot(ts(
cbind(c(ts_train,ARIMAfct$pred), tsdata), start=c(1700), frequency=1
), facets=FALSE, colour = "steelblue")
autoplot(ts(
cbind(c(ts_train,ARIMAfct$pred), tsdata), start=c(1700), frequency=1
), facets=FALSE, colour = "steelblue")
help("autoplot")
autoplot(ts(
cbind(c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(c(data, ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(c(tsdata, ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata, c(data ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
tsdata,
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE) + scale_colour_manual(values = c("4" = "pink","6" = "blue", "8" = "green"))
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE) + color(values = c("4" = "pink","6" = "blue", "8" = "green"))
combine.tidy <- gather(fish.species, Species, Capture, -Year)
autoplot(tsdata, facets = FALSE)
autoplot(c(ts_train,ARIMAfct$pred), facets=FALSE)
c(ts_train,ARIMAfct$pred)
autoplot(ts(c(ts_train,ARIMAfct$pred), start=c(1700), frequency=1), facets=FALSE)
autoplot(tsdata, facets=FALSE)
autoplot(ts(c(ts_train,ARIMAfct$pred), start=c(1700), frequency=1), facets=FALSE)
autoplot(ARIMAfct.pred)
autoplot(ARIMAfct$pred)
ARIMA <- auto.arima(ts_train, order=c(8, 1, 1), include.mean=TRUE)
ARIMA <- arima(ts_train, order=c(8, 1, 1), include.mean=TRUE)
library(vars)
data(Canada)
autoplot(Canada)
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata + 1, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata + 100, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE, ts.linetype = 'dashed')
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE, ts.linetype = c('dashed', "dashed"))
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata*2, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(tsdata + 1, c(ts_train,ARIMAfct$pred)), start=c(1700), frequency=1
), facets=FALSE)
autoplot(ts(
cbind(c(ts_train,ARIMAfct$pred), tsdata), start=c(1700), frequency=1
), facets=FALSE)
GARCH <- garchFit(~arma(1, 1)+garch(1, 1), data=ts_train, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=10)
f <- predict(GARCH, plot=TRUE, n.ahead=TEST_SIZE)
GARCH <- garchFit(~arma(8, 1)+garch(1, 1), data=ts_train, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=TEST_SIZE)
GARCH <- garchFit(~arma(4, 1)+garch(1, 1), data=ts_train, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=TEST_SIZE)
GARCH <- garchFit(~arma(3, 1)+garch(1, 1), data=ts_train, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=TEST_SIZE)
GARCH <- garchFit(~arma(2, 1)+garch(1, 1), data=ts_train, trace=TRUE)
GARCH <- garchFit(~arma(1, 1)+garch(1, 1), data=ts_train, trace=TRUE)
f <- predict(GARCH, plot=TRUE, n.ahead=TEST_SIZE)
k <- c(1,2,3)
k**2
mean(k**2)
ts_test <- ts(tsdata[TRAIN_SIZE:length(tsdata)], start=1700, frequency=1)
TRAIN_SIZE
ts_test <- ts(tsdata[TRAIN_SIZE:], frequency=1)
ts_test <- ts(tsdata[TRAIN_SIZE::], frequency=1)
ts_test <- ts(tsdata[TRAIN_SIZE:end], frequency=1)
ts_test <- ts(tsdata[TRAIN_SIZE+1:length(tsdata)], frequency=1)
ts_test <- ts(tsdata[TRAIN_SIZE+1:length(tsdata)], start=c(1700+TRAIN_SIZE) frequency=1)
ts_test <- ts(tsdata[TRAIN_SIZE+1:length(tsdata)], start=c(1700+TRAIN_SIZE), frequency=1)
TRAIN_SIZE
1700+259
ts_test <- ts(tsdata[-TRAIN_SIZE:], frequency=1)
ts_test <- ts(tsdata[-TRAIN_SIZE], frequency=1)
ts_test <- tail(tsdata, TEST_SIZE)
ts_train <- head(tsdata, TRAIN_SIZE)
ts_test <- tail(tsdata, TEST_SIZE)
plot.ts(tsdata, ylab="Sunspot Numbers")
# Basic look at the structure of time series.
ACF <- acf(ts_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(ACF[1:20], main="ACF")
PACF <- pacf(ts_train, lag.max=150, plot=FALSE, demean=TRUE)
plot(PACF[1:20], main="PACF")
ARIMA <- arima(ts_train, order=c(8, 1, 1), include.mean=TRUE)
ARIMAfct <- predict(ARIMA, n.ahead=30, plot=TRUE)
plot(ARIMAfct$pred, main="ARIMA Forecast", ylab="forecast")
autoplot(ts(
cbind(c(ts_train,ARIMAfct$pred), tsdata), start=c(1700), frequency=1
), facets=FALSE)
error <- (ARIMAfct.pred - ts)
error <- (ARIMAfct$pred - ts)**2
error <- (ARIMAfct$pred - ts)^2
error <- (ARIMAfct$pred - ts_test)^2
error
k
k^2
k**2
print(mse)
mse <- mean(error)
print(mse)
error
error <- (ARIMAfct$pred - ts_test)**2
rmse <- sqrt(mean(error))
print(rmse)
